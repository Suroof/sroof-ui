// Slider 组件样式
.slider {
  position: relative;
  touch-action: none;
  user-select: none;
  cursor: pointer;
}

// 水平滑块
.sliderHorizontal {
  height: 12px;
  padding: 4px 0;
  
  .sliderRail,
  .sliderTrack {
    height: 4px;
    border-radius: 2px;
  }
  
  .sliderHandle {
    margin-left: -6px;
    margin-top: -2px;
  }
  
  .sliderMark {
    top: 14px;
    transform: translateX(-50%);
  }
  
  .sliderDot {
    top: -2px;
    margin-left: -2px;
  }
}

// 垂直滑块
.sliderVertical {
  width: 12px;
  height: 200px;
  padding: 0 4px;
  
  .sliderRail,
  .sliderTrack {
    width: 4px;
    border-radius: 2px;
  }
  
  .sliderHandle {
    margin-bottom: -6px;
    margin-left: -2px;
  }
  
  .sliderMark {
    left: 14px;
    transform: translateY(50%);
  }
  
  .sliderDot {
    left: -2px;
    margin-bottom: -2px;
  }
}

// 轨道
.sliderRail {
  position: absolute;
  background-color: var(--slider-rail-color, #f5f5f5);
  border-radius: 2px;
  transition: background-color 0.3s ease;
}

.sliderHorizontal .sliderRail {
  width: 100%;
  top: 50%;
  transform: translateY(-50%);
}

.sliderVertical .sliderRail {
  height: 100%;
  left: 50%;
  transform: translateX(-50%);
}

// 激活轨道
.sliderTrack {
  position: absolute;
  background-color: var(--slider-track-color, #1890ff);
  border-radius: 2px;
  transition: background-color 0.3s ease;
}

.sliderHorizontal .sliderTrack {
  top: 50%;
  transform: translateY(-50%);
}

.sliderVertical .sliderTrack {
  left: 50%;
  transform: translateX(-50%);
}

// 滑块手柄
.sliderHandle {
  position: absolute;
  width: 12px;
  height: 12px;
  background-color: var(--slider-handle-color, #fff);
  border: 2px solid var(--slider-handle-border-color, #1890ff);
  border-radius: 50%;
  cursor: grab;
  transition: all 0.3s ease;
  z-index: 2;
  
  &:hover {
    border-color: var(--slider-handle-hover-color, #40a9ff);
    transform: scale(1.2);
  }
  
  &:focus {
    outline: none;
    border-color: var(--slider-handle-focus-color, #40a9ff);
    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
  }
}

// 拖拽状态
.sliderHandleDragging {
  cursor: grabbing;
  border-color: var(--slider-handle-active-color, #096dd9);
  box-shadow: 0 0 0 4px rgba(24, 144, 255, 0.16);
  transform: scale(1.2);
}

// 工具提示
.sliderTooltip {
  position: absolute;
  padding: 4px 8px;
  background-color: var(--tooltip-bg-color, rgba(0, 0, 0, 0.85));
  color: var(--tooltip-text-color, #fff);
  font-size: 12px;
  border-radius: 4px;
  white-space: nowrap;
  pointer-events: none;
  z-index: 1000;
  
  &::after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border: 4px solid transparent;
  }
}

// 工具提示位置
.sliderTooltipTop {
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-bottom: 8px;
  
  &::after {
    top: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-top-color: var(--tooltip-bg-color, rgba(0, 0, 0, 0.85));
  }
}

.sliderTooltipBottom {
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 8px;
  
  &::after {
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    border-bottom-color: var(--tooltip-bg-color, rgba(0, 0, 0, 0.85));
  }
}

.sliderTooltipLeft {
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-right: 8px;
  
  &::after {
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    border-left-color: var(--tooltip-bg-color, rgba(0, 0, 0, 0.85));
  }
}

.sliderTooltipRight {
  left: 100%;
  top: 50%;
  transform: translateY(-50%);
  margin-left: 8px;
  
  &::after {
    right: 100%;
    top: 50%;
    transform: translateY(-50%);
    border-right-color: var(--tooltip-bg-color, rgba(0, 0, 0, 0.85));
  }
}

// 刻度标记
.sliderMark {
  position: absolute;
  font-size: 12px;
  color: var(--slider-mark-color, #666);
  cursor: pointer;
}

.sliderMarkText {
  display: inline-block;
  vertical-align: middle;
  text-align: center;
  cursor: pointer;
}

// 刻度点
.sliderDot {
  position: absolute;
  width: 4px;
  height: 4px;
  background-color: var(--slider-dot-color, #fff);
  border: 1px solid var(--slider-dot-border-color, #d9d9d9);
  border-radius: 50%;
  cursor: pointer;
  
  &:hover {
    border-color: var(--slider-dot-hover-color, #1890ff);
  }
}

// 禁用状态
.sliderDisabled {
  cursor: not-allowed;
  
  .sliderRail {
    background-color: var(--slider-rail-disabled-color, #f5f5f5);
  }
  
  .sliderTrack {
    background-color: var(--slider-track-disabled-color, #bfbfbf);
  }
  
  .sliderHandle {
    cursor: not-allowed;
    border-color: var(--slider-handle-disabled-color, #bfbfbf);
    background-color: var(--slider-handle-bg-disabled-color, #f5f5f5);
    
    &:hover {
      transform: none;
      border-color: var(--slider-handle-disabled-color, #bfbfbf);
    }
  }
  
  .sliderMark {
    color: var(--slider-mark-disabled-color, #bfbfbf);
    cursor: not-allowed;
  }
  
  .sliderDot {
    background-color: var(--slider-dot-disabled-color, #f5f5f5);
    border-color: var(--slider-dot-border-disabled-color, #d9d9d9);
    cursor: not-allowed;
    
    &:hover {
      border-color: var(--slider-dot-border-disabled-color, #d9d9d9);
    }
  }
}

// 暗色主题
@media (prefers-color-scheme: dark) {
  .slider {
    --slider-rail-color: #434343;
    --slider-track-color: #1890ff;
    --slider-handle-color: #1f1f1f;
    --slider-handle-border-color: #1890ff;
    --slider-handle-hover-color: #40a9ff;
    --slider-handle-focus-color: #40a9ff;
    --slider-handle-active-color: #096dd9;
    --slider-mark-color: #bfbfbf;
    --slider-dot-color: #1f1f1f;
    --slider-dot-border-color: #434343;
    --slider-dot-hover-color: #1890ff;
    --tooltip-bg-color: rgba(255, 255, 255, 0.85);
    --tooltip-text-color: #000;
    
    // 禁用状态
    --slider-rail-disabled-color: #2a2a2a;
    --slider-track-disabled-color: #434343;
    --slider-handle-disabled-color: #434343;
    --slider-handle-bg-disabled-color: #2a2a2a;
    --slider-mark-disabled-color: #434343;
    --slider-dot-disabled-color: #2a2a2a;
    --slider-dot-border-disabled-color: #434343;
  }
}

// 高对比度模式
@media (prefers-contrast: high) {
  .slider {
    --slider-rail-color: #000;
    --slider-track-color: #0066cc;
    --slider-handle-border-color: #000;
    --slider-dot-border-color: #000;
  }
  
  .sliderHandle {
    border-width: 3px;
  }
  
  .sliderDot {
    border-width: 2px;
  }
}

// 减少动画模式
@media (prefers-reduced-motion: reduce) {
  .sliderRail,
  .sliderTrack,
  .sliderHandle {
    transition: none;
  }
}

// 响应式设计
@media (max-width: 768px) {
  .sliderHandle {
    width: 16px;
    height: 16px;
    
    &:hover {
      transform: none;
    }
  }
  
  .sliderHorizontal {
    .sliderHandle {
      margin-left: -8px;
      margin-top: -4px;
    }
  }
  
  .sliderVertical {
    .sliderHandle {
      margin-bottom: -8px;
      margin-left: -4px;
    }
  }
  
  .sliderTooltip {
    font-size: 14px;
    padding: 6px 10px;
  }
}

@media (max-width: 480px) {
  .sliderHandle {
    width: 20px;
    height: 20px;
  }
  
  .sliderHorizontal {
    .sliderHandle {
      margin-left: -10px;
      margin-top: -6px;
    }
  }
  
  .sliderVertical {
    .sliderHandle {
      margin-bottom: -10px;
      margin-left: -6px;
    }
  }
}

// 打印样式
@media print {
  .slider {
    .sliderTooltip {
      display: none;
    }
  }
}

// 触摸设备优化
@media (hover: none) and (pointer: coarse) {
  .sliderHandle {
    width: 20px;
    height: 20px;
    
    &:hover {
      transform: none;
    }
  }
  
  .sliderHorizontal {
    .sliderHandle {
      margin-left: -10px;
      margin-top: -6px;
    }
  }
  
  .sliderVertical {
    .sliderHandle {
      margin-bottom: -10px;
      margin-left: -6px;
    }
  }
}

// 无障碍增强
.sliderHandle:focus-visible {
  outline: 2px solid var(--slider-handle-focus-color, #40a9ff);
  outline-offset: 2px;
}

// 范围选择器特殊样式
.slider[data-range="true"] {
  .sliderHandle:first-of-type {
    z-index: 3;
  }
  
  .sliderHandle:last-of-type {
    z-index: 2;
  }
}

// 动画效果
@keyframes sliderHandlePulse {
  0% {
    box-shadow: 0 0 0 0 rgba(24, 144, 255, 0.4);
  }
  70% {
    box-shadow: 0 0 0 8px rgba(24, 144, 255, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(24, 144, 255, 0);
  }
}

.sliderHandle:active {
  animation: sliderHandlePulse 0.6s ease-out;
}

// 自定义颜色支持
.slider[data-color] {
  .sliderTrack {
    background-color: var(--custom-color, #1890ff);
  }
  
  .sliderHandle {
    border-color: var(--custom-color, #1890ff);
    
    &:hover {
      border-color: var(--custom-color-hover, #40a9ff);
    }
    
    &:focus {
      border-color: var(--custom-color-focus, #40a9ff);
      box-shadow: 0 0 0 2px var(--custom-color-shadow, rgba(24, 144, 255, 0.2));
    }
  }
  
  .sliderHandleDragging {
    border-color: var(--custom-color-active, #096dd9);
    box-shadow: 0 0 0 4px var(--custom-color-shadow, rgba(24, 144, 255, 0.16));
  }
}